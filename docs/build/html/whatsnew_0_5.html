
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>What’s new in 0.5 &#8212; MONAI Deploy Application SDK 0.1.0 Documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules Overview" href="highlights.html" />
    <link rel="prev" title="What’s new in 0.6 🎉🎉" href="whatsnew_0_6.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/MONAI-logo-color.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="whatsnew.html">
  What’s New
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="highlights.html">
  Modules Overview
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="installation.html">
  Installation Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="contrib.html">
  Development
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/Project-MONAI/tutorials">Tutorials<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/project-monai/monai" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/projectmonai" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="whatsnew_0_6.html">
   What’s new in 0.6 🎉🎉
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   What’s new in 0.5
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#invert-spatial-transforms-and-test-time-augmentations">
   Invert spatial transforms and test-time augmentations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lesion-detection-in-digital-pathology">
   Lesion detection in digital pathology
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deepgrow-modules-for-interactive-segmentation">
   DeepGrow modules for interactive segmentation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#learning-based-image-registration">
   Learning-based image registration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#various-usability-improvements">
   Various usability improvements
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#io-factory-for-medical-image-formats">
     IO factory for medical image formats
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#save-transform-data-into-nifti-or-png-files">
     Save transform data into NIfTI or PNG files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automatically-ensure-channel-first-data-shape">
     Automatically ensure
     <code class="docutils literal notranslate">
      <span class="pre">
       channel-first
      </span>
     </code>
     data shape
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#network-architectures">
     Network architectures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#result-writing">
     Result writing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transfer-learning-for-different-input-output-classes">
     Transfer learning for different input / output classes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#c-cuda-optimized-modules">
     C++/CUDA optimized modules
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="what-s-new-in-0-5">
<h1>What’s new in 0.5<a class="headerlink" href="#what-s-new-in-0-5" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Invert spatial transforms and test-time augmentations</p></li>
<li><p>Lesion detection in digital pathology</p></li>
<li><p>DeepGrow modules for interactive segmentation</p></li>
<li><p>Various usability improvements</p></li>
</ul>
<div class="section" id="invert-spatial-transforms-and-test-time-augmentations">
<h2>Invert spatial transforms and test-time augmentations<a class="headerlink" href="#invert-spatial-transforms-and-test-time-augmentations" title="Permalink to this headline">¶</a></h2>
<p>It is often desirable to invert the previously applied spatial transforms (resize, flip, rotate, zoom, crop, pad, etc.) with the deep learning workflows, for example, to resume to the original imaging space after processing the image data in a normalized data space.  We enhance almost all the spatial transforms with an <code class="docutils literal notranslate"><span class="pre">inverse</span></code> operation and release this experimental feature in v0.5. Users can easily invert all the spatial transforms for one transformed data item or a batch of data items. It also can be achieved within the workflows by using the <code class="docutils literal notranslate"><span class="pre">TransformInverter</span></code> handler.</p>
<p>If the pipeline includes random transformations, users may want to observe the effect that these transformations have on the output. The typical approach is that we pass the same input through the transforms multiple times with different random realizations. Then use the inverse transforms to move all the results to a common space, and calculate the metrics. MONAI provided <code class="docutils literal notranslate"><span class="pre">TestTimeAugmentation</span></code> for this feature, which by default will calculate the <code class="docutils literal notranslate"><span class="pre">mode</span></code>, <code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">standard</span> <span class="pre">deviation</span></code> and <code class="docutils literal notranslate"><span class="pre">volume</span> <span class="pre">variation</span> <span class="pre">coefficient</span></code>.</p>
<p><a class="reference external" href="https://github.com/Project-MONAI/tutorials/blob/master/modules/inverse_transforms_and_test_time_augmentations.ipynb">Invert transforms and TTA tutorials</a> introduce details about the API with examples.</p>
<p>(1) The last column is the inverted data of model output:
<img alt="invert transform" src="_images/invert_transforms.png" /></p>
<p>(2) The TTA results of <code class="docutils literal notranslate"><span class="pre">mode</span></code>, <code class="docutils literal notranslate"><span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">standard</span> <span class="pre">deviation</span></code>:
<img alt="test time augmentation" src="_images/tta.png" /></p>
</div>
<div class="section" id="lesion-detection-in-digital-pathology">
<h2>Lesion detection in digital pathology<a class="headerlink" href="#lesion-detection-in-digital-pathology" title="Permalink to this headline">¶</a></h2>
<p>MONAI starts to support digital pathology deep learning tasks. The initial <a class="reference external" href="https://github.com/Project-MONAI/MONAI/tree/master/monai/apps/pathology">implementation</a> of the pathology detection components includes:</p>
<ul class="simple">
<li><p>Efficient whole slide imaging IO with NVIDIA cuCIM library</p></li>
<li><p>Patch-based sampling and training strategies with the SmartCache mechanism</p></li>
<li><p>FROC measurements for lesion detection</p></li>
<li><p>Probabilistic post-processing for lesion ROIs.</p></li>
</ul>
<p><img alt="digital pathology" src="_images/pathology.png" /></p>
</div>
<div class="section" id="deepgrow-modules-for-interactive-segmentation">
<h2>DeepGrow modules for interactive segmentation<a class="headerlink" href="#deepgrow-modules-for-interactive-segmentation" title="Permalink to this headline">¶</a></h2>
<p>Towards an interactive workflow with manual input during training and inference,
<a class="reference external" href="https://github.com/Project-MONAI/MONAI/tree/master/monai/apps/deepgrow">a reimplementation</a> of the DeepGrow components is included in this release.
DeepGrow is a deep learning based semi-automated segmentation approach that aims to be a “smart” interactive tool for regions of interest delineation in medical images.</p>
<p><img alt="deepgrow scheme" src="_images/deepgrow_scheme.png" /></p>
<p>An end-to-end example is presented at <a class="reference external" href="https://github.com/Project-MONAI/tutorials/tree/master/deepgrow/ignite"><code class="docutils literal notranslate"><span class="pre">project-monai/tutorials</span></code></a>.
<img alt="deepgrow end-to-end" src="_images/deepgrow.png" /></p>
</div>
<div class="section" id="learning-based-image-registration">
<h2>Learning-based image registration<a class="headerlink" href="#learning-based-image-registration" title="Permalink to this headline">¶</a></h2>
<p>Starting from v0.5, MONAI provides experimental features for building learning-based 2D/3D registration workflows. These include image similarity measures as loss functions, bending energy as model regularization, network architectures, warping modules. The components can be used to build the major unsupervised and weakly-supervised algorithms.</p>
<p>The following figure shows the registration of CT images acquired at different time points for a single patient using MONAI:</p>
<p><img alt="3d registration" src="_images/3d_paired.png" /></p>
</div>
<div class="section" id="various-usability-improvements">
<h2>Various usability improvements<a class="headerlink" href="#various-usability-improvements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="io-factory-for-medical-image-formats">
<h3>IO factory for medical image formats<a class="headerlink" href="#io-factory-for-medical-image-formats" title="Permalink to this headline">¶</a></h3>
<p>Many popular image formats exist in the medical domain, and they are quite different with rich metadata information. To easily handle different medical image formats in the same pipeline, <a class="reference external" href="https://github.com/Project-MONAI/tutorials/blob/master/modules/load_medical_images.ipynb">MONAI provides <code class="docutils literal notranslate"><span class="pre">LoadImage</span></code> transform</a>, which can automatically choose image readers based on the supported suffixes and in the below priority order:</p>
<ul class="simple">
<li><p>User-specified reader at runtime when call this loader.</p></li>
<li><p>Registered readers from the latest to the first in list.</p></li>
<li><p>Default readers: (nii, nii.gz -&gt; NibabelReader), (png, jpg, bmp -&gt; PILReader), (npz, npy -&gt; NumpyReader), (others -&gt; ITKReader).</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">ImageReader</span></code> API is quite straight-forward, users can easily extend for their own customized image readers.</p>
<p>With these pre-defined image readers, MONAI can load images in formats: <code class="docutils literal notranslate"><span class="pre">NIfTI</span></code>, <code class="docutils literal notranslate"><span class="pre">DICOM</span></code>, <code class="docutils literal notranslate"><span class="pre">PNG</span></code>, <code class="docutils literal notranslate"><span class="pre">JPG</span></code>, <code class="docutils literal notranslate"><span class="pre">BMP</span></code>, <code class="docutils literal notranslate"><span class="pre">NPY/NPZ</span></code>, etc.</p>
</div>
<div class="section" id="save-transform-data-into-nifti-or-png-files">
<h3>Save transform data into NIfTI or PNG files<a class="headerlink" href="#save-transform-data-into-nifti-or-png-files" title="Permalink to this headline">¶</a></h3>
<p>To convert images into files or debug the transform chain, MONAI provides <code class="docutils literal notranslate"><span class="pre">SaveImage</span></code> transform. Users can inject this transform into the transform chain to save the results.</p>
</div>
<div class="section" id="automatically-ensure-channel-first-data-shape">
<h3>Automatically ensure <code class="docutils literal notranslate"><span class="pre">channel-first</span></code> data shape<a class="headerlink" href="#automatically-ensure-channel-first-data-shape" title="Permalink to this headline">¶</a></h3>
<p>Medical images have different shape formats. They can be <code class="docutils literal notranslate"><span class="pre">channel-last</span></code>, <code class="docutils literal notranslate"><span class="pre">channel-first</span></code> or even <code class="docutils literal notranslate"><span class="pre">no-channel</span></code>. We may, for example, want to load several <code class="docutils literal notranslate"><span class="pre">no-channel</span></code> images and stack them as <code class="docutils literal notranslate"><span class="pre">channel-first</span></code> data. To improve the user experience, MONAI provided an <code class="docutils literal notranslate"><span class="pre">EnsureChannelFirst</span></code> transform to automatically detect data shape according to the meta information and convert it to the <code class="docutils literal notranslate"><span class="pre">channel-first</span></code> format consistently.</p>
</div>
<div class="section" id="network-architectures">
<h3>Network architectures<a class="headerlink" href="#network-architectures" title="Permalink to this headline">¶</a></h3>
<p>Various ready-to-use architectures with pretrained model weights from <code class="docutils literal notranslate"><span class="pre">torch.hub</span></code>.</p>
</div>
<div class="section" id="result-writing">
<h3>Result writing<a class="headerlink" href="#result-writing" title="Permalink to this headline">¶</a></h3>
<p>Currently MONAI supports writing the model outputs as NIfTI files or PNG files for segmentation tasks, and as CSV files for classification tasks. And the writers can restore the data spacing, orientation or shape according to the <code class="docutils literal notranslate"><span class="pre">original_shape</span></code> or <code class="docutils literal notranslate"><span class="pre">original_affine</span></code> information from the input image.</p>
<p>A rich set of formats will be supported soon, along with relevant statistics and evaluation metrics automatically computed from the outputs.</p>
</div>
<div class="section" id="transfer-learning-for-different-input-output-classes">
<h3>Transfer learning for different input / output classes<a class="headerlink" href="#transfer-learning-for-different-input-output-classes" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Transfer-learning</span></code> is a very common and efficient training approach, especially in the medical-specific domain where obtaining large datasets for training can be difficult. So transfer-learning from a pre-trained checkpoint can significantly improve the model metrics and shorten training time.</p>
<p>MONAI provided <code class="docutils literal notranslate"><span class="pre">CheckpointLoader</span></code> to load a checkpoint for the workflow before training, and it allows some <code class="docutils literal notranslate"><span class="pre">layer</span> <span class="pre">names</span></code> of current network don’t match the checkpoint, or some <code class="docutils literal notranslate"><span class="pre">layer</span> <span class="pre">shapes</span></code> don’t match the checkpoint, which can be useful if the current task has different input image classes or output classes.</p>
</div>
<div class="section" id="c-cuda-optimized-modules">
<h3>C++/CUDA optimized modules<a class="headerlink" href="#c-cuda-optimized-modules" title="Permalink to this headline">¶</a></h3>
<p>To accelerate some heavy computation progress, C++/CUDA implementation can be an impressive method, which usually brings even hundreds of times faster performance. MONAI contains some C++/CUDA optimized modules, like <code class="docutils literal notranslate"><span class="pre">Resampler</span></code>, <code class="docutils literal notranslate"><span class="pre">Conditional</span> <span class="pre">random</span> <span class="pre">field</span> <span class="pre">(CRF)</span></code>, <code class="docutils literal notranslate"><span class="pre">Fast</span> <span class="pre">bilateral</span> <span class="pre">filtering</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">permutohedral</span> <span class="pre">lattice</span></code>, and fully support C++/CUDA programs in CI/CD and building package.</p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="whatsnew_0_6.html" title="previous page">What’s new in 0.6 🎉🎉</a>
    <a class='right-next' id="next-link" href="highlights.html" title="next page">Modules Overview</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021 MONAI Consortium.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>